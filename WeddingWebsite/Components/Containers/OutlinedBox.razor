@using WeddingWebsite.Models
@using WeddingWebsite.Models.WebsiteElement
@using WeddingWebsite.Components.Elements
@using WeddingWebsite.Models.Theme
@using WeddingWebsite.Models.WebsiteConfig

<div class="outlined-box" style="background: @Background">
    @if(Image != null) {
        <img src="@Image.Url" alt="@Image.AltText">
    }
    @if(MapsLocation != null) {
        <GoogleMapsEmbed Location="@MapsLocation" Height="180px"/>
    }
    <div class="outlined-box-inner">
        @ChildContent
    </div>
</div>

@code {
    [Parameter]
    public required RenderFragment ChildContent { get; set; }
    
    [Parameter]
    public WebsiteImage? Image { get; set; }
    
    [Parameter]
    public Location? MapsLocation { get; set; }
    
    [CascadingParameter]
    public SectionTheme? Theme { get; set; }
    
    private Colour Background => Theme != null ? Theme.BoxStyle.Background : Colour.White;
}
