@using WeddingWebsite.Models.Theme

@if (Theme != null && Theme.BoxStyle != null) {
    <CascadingValue Value="Theme.BoxStyle.InnerTheme">
        @if (Theme.BoxStyle.Type == BoxType.OutlinedSquare) {
            <OutlinedBox ChildContent="@ChildContent" TopContent="@TopContent" Horizontal="Horizontal" CustomCss="@CustomCss"/>
        } else if (Theme.BoxStyle.Type == BoxType.FilledRounded) {
            <RoundedCornerBox ChildContent="@ChildContent" TopContent="@TopContent" Horizontal="Horizontal" CustomCss="@CustomCss"/>
        } else {
            <p>Unsupported box type: @Theme.BoxStyle.Type</p>
        }
    </CascadingValue>
} else {
    <OutlinedBox ChildContent="@ChildContent" TopContent="@TopContent" Horizontal="Horizontal"/>
}

@code {
    [CascadingParameter]
    public SectionTheme? Theme { get; set; }
    
    [Parameter]
    public required RenderFragment ChildContent { get; set; }
    
    [Parameter]
    public RenderFragment? TopContent { get; set; }
    
    [Parameter]
    public bool Horizontal { get; set; }
    
    [Parameter] 
    public string CustomCss { get; set; } = "";
}
