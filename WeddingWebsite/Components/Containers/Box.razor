@using WeddingWebsite.Client.Models.Theme
@using WeddingWebsite.Client.Components.Containers

@if (Theme != null && Theme.BoxStyle != null) {
    @if (Theme.BoxStyle.Type == BoxType.Outlined) {
        <OutlinedBox ChildContent="@ChildContent" TopContent="@TopContent" Theme="Theme.BoxStyle.InnerTheme"/>
    } else if (Theme.BoxStyle.Type == BoxType.Filled) {
        <RoundedCornerBox ChildContent="@ChildContent" TopContent="@TopContent" Theme="Theme.BoxStyle.InnerTheme"/>
    } else {
        <p>Unsupported box type: @Theme.BoxStyle.Type</p>
    }
} else {
    <OutlinedBox ChildContent="@ChildContent" TopContent="@TopContent" Theme="Theme"/>
}

@code {
    [CascadingParameter]
    public SectionTheme? Theme { get; set; }
    
    [Parameter]
    public required RenderFragment ChildContent { get; set; }
    
    [Parameter]
    public RenderFragment? TopContent { get; set; }
}
