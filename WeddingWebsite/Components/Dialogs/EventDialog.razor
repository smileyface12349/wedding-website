@using WeddingWebsite.Components.Elements
@using WeddingWebsite.Models.WebsiteElement
@using LinkButton = WeddingWebsite.Models.WebsiteElement.LinkButton
<MudDialog>
    <DialogContent>
        @if (Content != null)
        @foreach (var sect in Content) {
            <h3>@sect.Heading</h3>
            <WebsiteElement Element=@sect.Media MaxHeight="250px" />
            @foreach (var paragraph in sect.Content) {
                <p>@paragraph</p>
            }
        }
    </DialogContent>
    <DialogActions>
        @foreach (var action in Actions) {
            <MudButton Color="Color.Primary" Variant="Variant.Filled" Href="@action.Link">@action.Text</MudButton>
        }
        <MudButton Color="Color.Primary" Variant="Variant.Filled" OnClick="Close">Close</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private IMudDialogInstance? MudDialog { get; set; }

    [Parameter]
    public IEnumerable<WebsiteSection>? Content { get; set; }

    [Parameter]
    public IEnumerable<LinkButton> Actions { get; set; } = [];

    private void Close() => MudDialog?.Close(DialogResult.Ok(true));
}