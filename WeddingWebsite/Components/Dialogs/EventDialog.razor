@using WeddingWebsite.Models.WebsiteElement
<MudDialog>
    <DialogContent>
        @if (Content != null)
        @foreach (var section in Content) {
            <h2>@section.Heading</h2>
            @((MarkupString) (section.Media?.GetHtml() ?? ""))
            @foreach (var paragraph in section.Content) {
                <p>@paragraph</p>
            }
        }
    </DialogContent>
    <DialogActions>
        <MudButton Color="Color.Primary" Variant="Variant.Filled" OnClick="Close">Close</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; }

    [Parameter]
    public IEnumerable<WebsiteSection>? Content { get; set; }

    private void Close() => MudDialog.Close(DialogResult.Ok(true));
}